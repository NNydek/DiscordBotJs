"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.generateLogger = void 0;
const path = require("path");
const winston_1 = require("winston");
const { Console, File } = winston_1.transports;
const { combine, timestamp, printf } = winston_1.format;
const lineFormat = printf(({ level, message, timestamp }) => {
    return `[${timestamp}] (${level}): ${message}`;
});
function generateLogger(filePath) {
    return winston_1.createLogger({
        level: 'silly',
        format: combine(timestamp(), lineFormat),
        transports: [
            new Console(),
            new File({ filename: path.basename(filePath), dirname: path.dirname(filePath), maxsize: 1e+7 })
        ]
    });
}
exports.generateLogger = generateLogger;
;
